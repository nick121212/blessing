{"version":3,"sources":["webpack:///0.a63a48f8d71aaec46a87.hot-update.js","webpack:///./src/pages/passport/ctls/login.controller.ts?f524","webpack:///./src/pages/passport/router.ts?8411"],"names":["webpackHotUpdate","187","module","exports","LoginController","$state","fxAction","materialUtils","this","key","formData","username","password","prototype","doSubmit","$form","_this","promise","doAction","then","showMsg","go","$inject","190","__webpack_require__","login_controller_1","register_controller_1","index_controller_1","initRouter","$urlRouterProvider","$stateProvider","state","url","abstract","views","","controller","IndexController","controllerAs","template","passportContent","RegisterController"],"mappings":"AAAAA,iBAAiB,GAEXC,IACA,SAASC,EAAQC,GAEtB,YCED,IAAAC,GAAA,WAMI,QAAAA,GAAoBC,EAAqCC,EAAkBC,GAAvDC,KAAAH,SAAqCG,KAAAF,WAAkBE,KAAAD,gBAH3EC,KAAAC,IAAc,QACdD,KAAAE,UAAoBC,SAAU,OAAQC,SAAU,QAkBpD,MATIR,GAAAS,UAAAC,SAAA,SAASC,GAAT,GAAAC,GAAAR,KACQS,EAA4BT,KAAKF,SAASY,SAASV,KAAKC,IAAKD,KAAKE,SAAUK,EAEhFE,IAAWA,EAAQE,KAAK,WACpBH,EAAKT,cAAca,QAAQ,cAAcD,KAAK,WAC1CH,EAAKX,OAAOgB,GAAG,QAASZ,IAAK,2BAjBlCL,EAAAkB,SAAW,SAAU,WAAY,iBAqB5ClB,IAtBaD,GAAAC,gBAAeA,GDwBtBmB,IACA,SAASrB,EAAQC,EAASqB,GAE/B,YE9BD,IAAAC,GAAAD,EAA8B,KAC9BE,EAAAF,EAAiC,KACjCG,EAAAH,EAA8B,IAEjBrB,GAAAyB,WAAa,SAACC,EAAoBC,GAE3CA,EAAeC,MAAM,YACjBC,IAAK,YACLC,cAMAC,OACIC,IACIC,WAAYT,EAAAU,gBACZC,aAAc,WACdC,SAAUf,EAAQ,WAG3BO,MAAM,kBACLC,IAAK,SACLE,OACIM,iBACIJ,WAAYX,EAAArB,gBACZkC,aAAc,WACdC,SAAUf,EAAQ,WAG3BO,MAAM,qBACLC,IAAK,YACLE,OACIM,iBACIJ,WAAYV,EAAAe,mBACZH,aAAc,cACdC,SAAUf,EAAQ","file":"0.a63a48f8d71aaec46a87.hot-update.js","sourcesContent":["webpackHotUpdate(0,{\n\n/***/ 187:\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\tvar LoginController = (function () {\n\t    function LoginController($state, fxAction, materialUtils) {\n\t        this.$state = $state;\n\t        this.fxAction = fxAction;\n\t        this.materialUtils = materialUtils;\n\t        this.key = \"login\";\n\t        this.formData = { username: \"nick\", password: \"nick\" };\n\t    }\n\t    LoginController.prototype.doSubmit = function ($form) {\n\t        var _this = this;\n\t        var promise = this.fxAction.doAction(this.key, this.formData, $form);\n\t        promise && promise.then(function () {\n\t            _this.materialUtils.showMsg(\"登陆成功,正在跳转!\").then(function () {\n\t                _this.$state.go(\"home\", { key: \"modulesListAction\" });\n\t            });\n\t        });\n\t    };\n\t    LoginController.$inject = [\"$state\", \"fxAction\", \"materialUtils\"];\n\t    return LoginController;\n\t}());\n\texports.LoginController = LoginController;\n\n\n/***/ },\n\n/***/ 190:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar login_controller_1 = __webpack_require__(187);\n\tvar register_controller_1 = __webpack_require__(188);\n\tvar index_controller_1 = __webpack_require__(186);\n\texports.initRouter = function ($urlRouterProvider, $stateProvider) {\n\t    $stateProvider.state(\"passport\", {\n\t        url: \"/passport\",\n\t        abstract: true,\n\t        views: {\n\t            \"\": {\n\t                controller: index_controller_1.IndexController,\n\t                controllerAs: \"indexCtl\",\n\t                template: __webpack_require__(128)()\n\t            }\n\t        }\n\t    }).state(\"passport.login\", {\n\t        url: \"/login\",\n\t        views: {\n\t            \"passportContent\": {\n\t                controller: login_controller_1.LoginController,\n\t                controllerAs: \"loginCtl\",\n\t                template: __webpack_require__(129)()\n\t            }\n\t        }\n\t    }).state(\"passport.register\", {\n\t        url: \"/register\",\n\t        views: {\n\t            \"passportContent\": {\n\t                controller: register_controller_1.RegisterController,\n\t                controllerAs: \"registerCtl\",\n\t                template: __webpack_require__(130)()\n\t            }\n\t        }\n\t    });\n\t};\n\n\n/***/ }\n\n})\n\n\n/** WEBPACK FOOTER **\n ** 0.a63a48f8d71aaec46a87.hot-update.js\n **/","/**\n * Created by NICK on 16/8/17.\n */\n\n/**\n * 登陆controller\n */\nexport class LoginController {\n    static $inject = [\"$state\", \"fxAction\", \"materialUtils\"];\n\n    key: string = \"login\";\n    formData: Object = {username: \"nick\", password: \"nick\"};\n\n    constructor(private $state: ng.ui.IStateService, private fxAction, private materialUtils: fx.utils.materialStatic) {\n    }\n\n    /**\n     * 登陆,触发登陆操作\n     * @param form 表单\n     */\n    doSubmit($form: ng.IFormController) {\n        let promise: ng.IPromise<any> = this.fxAction.doAction(this.key, this.formData, $form);\n\n        promise && promise.then(()=> {\n            this.materialUtils.showMsg(\"登陆成功,正在跳转!\").then(()=> {\n                this.$state.go(\"home\", {key: \"modulesListAction\"});\n            });\n        });\n    }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/pages/passport/ctls/login.controller.ts\n **/","/**\n * Created by NICK on 16/8/9.\n */\n\nimport {LoginController} from './ctls/login.controller';\nimport {RegisterController} from './ctls/register.controller';\nimport {IndexController} from './ctls/index.controller';\n\nexport const initRouter = ($urlRouterProvider, $stateProvider) => {\n    // 路由规则\n    $stateProvider.state(\"passport\", {\n        url: \"/passport\",\n        abstract: true,\n        // resolve: {\n        //     svg: [\"svgUtils\", (svgUtils: fx.utils.svgStatic)=> {\n        //         return svgUtils.loadSvgUrl(__dirname + 'svgs/mdi.svg');\n        //     }]\n        // },\n        views: {\n            \"\": {\n                controller: IndexController,\n                controllerAs: \"indexCtl\",\n                template: require(\"./tpls/index.template.jade\")()\n            }\n        }\n    }).state(\"passport.login\", {\n        url: \"/login\",\n        views: {\n            \"passportContent\": {\n                controller: LoginController,\n                controllerAs: \"loginCtl\",\n                template: require(\"./tpls/login.template.jade\")()\n            }\n        }\n    }).state(\"passport.register\", {\n        url: \"/register\",\n        views: {\n            \"passportContent\": {\n                controller: RegisterController,\n                controllerAs: \"registerCtl\",\n                template: require(\"./tpls/register.template.jade\")()\n            }\n        }\n    });\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/pages/passport/router.ts\n **/"],"sourceRoot":""}