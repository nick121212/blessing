{"version":3,"sources":["webpack:///./src/pages/page/ctls/page.execute.cmd.ts?d6bb","webpack:///./src/pages/page/services/execute.cmd.ts?0e43"],"names":[],"mappings":"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","file":"0.f78d20803de425bd8f5f.hot-update.js","sourcesContent":["/**\n * Created by NICK on 16/8/10.\n */\nimport { IActionModel, ActionType } from '../../../directives/action/models/action.model';\nimport { ExecuteCmdForm } from '../services/execute.cmd';\n\nexport class PageExecuteCmdController {\n    static $inject = [\"$stateParams\", \"materialUtils\", \"fxAction\", \"toolbarUtils\"];\n\n    key: string;\n    isOpen: boolean;\n    toolbars: Array<any>;\n    actionModel: IActionModel;\n    formData: any;\n    isBusy: boolean;\n\n    constructor(private $stateParams: ng.ui.IStateParamsService, private materilUtils: fx.utils.materialStatic, private fxAction, private toolbarUtils) {\n        this.actionModel = new ExecuteCmdForm().actionModel;\n        this.doInitToolbar();\n        this.formData = {\n            listIps: []\n        };\n    }\n\n    doInitToolbar() {\n        this.toolbars = [\n            this.toolbarUtils.noneBuilder(\"icon\").iconBuilder('apple-keyboard-command', {}).toValue(),\n            this.toolbarUtils.labelBuilder('执行命令').attrBuilder({ flex: \"\" }).toValue()\n        ];\n    }\n\n    showSivenav() {\n        this.isOpen = !this.isOpen;\n    }\n\n    doSubmit($event, form) {\n        this.isBusy = true;\n        this.fxAction.doAction(this.actionModel.key, this.formData, form).then((result) => {\n            console.log(result);\n        }).finally(() => {\n            this.isBusy = false;\n        });\n    }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/pages/page/ctls/page.execute.cmd.ts\n **/","import { IActionModel, ActionType } from '../../../directives/action/models/action.model';\nimport { MethodType } from '../../../directives/action/models/interface.model';\n\nexport class ExecuteCmdForm {\n    static key: string = \"execute.cmd\";\n\n    actionModel: IActionModel;\n\n    constructor() {\n        let actionModel: IActionModel = {\n            key: ExecuteCmdForm.key,\n            type: ActionType.form,\n            title: \"\",\n            icon: \"\",\n            form: {\n                dataSchema: {\n                    type: \"object\",\n                    required: [\"command\", \"listIps\"],\n                    properties: {\n                        command: {\n                            type: \"string\",\n                            title: \"命令\"\n                        },\n                        listIps: {\n                            type: \"array\",\n                            default: [],\n                            title: \"服务器列表\",\n                            minItems: 1,\n                            items: {\n                                type: \"object\"\n                            }\n                        }\n                    }\n                },\n                formSchema: [{\n                    key: \"command\",\n                    type: \"autocomplete-1\",\n                    placeHolder: \"请选择命令\",\n                    acOptions: {\n                        textField: \"title\",\n                        keyField: \"key\",\n                        dataField: \"rows\",\n                        noCache: true,\n                        search: \"/where/key/$like\",\n                        actionKey: \"command\"\n                    },\n                    htmlClass: \"md-block\"\n                }, {\n                    key: \"listIps\",\n                    type: \"querytable\",\n                    qtOptions: {\n                        key: \"devices\"\n                    },\n                    startEmpty: true,\n                    htmlClass: \"md-block\"\n                }]\n            },\n            refreshList: true,\n            closeDialog: true,\n            interfaces: [{\n                key: \"execute.cmd\",\n                method: MethodType.POST,\n                address: \"\",\n                // port: \"\",\n                path: \"/commands/manual/test\",\n                // jpp: {\n                //     set: [{ \"from\": \"/return\", \"to\": \"/data\" }]\n                // },\n                config: {\n                    salt: true\n                },\n                isRestful: false\n            }]\n        };\n\n        this.actionModel = actionModel;\n        // return this.actionModel;\n    }\n}\n\nexport default (module: ng.IModule) => {\n    const services = [ExecuteCmdForm];\n\n    _.each(services, (model) => {\n        module.service(model.key, model);\n    });\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/pages/page/services/execute.cmd.ts\n **/"],"sourceRoot":""}