{"version":3,"sources":["webpack:///./src/pages/home/index.ts?13ac","webpack:///./src/directives/toolbar/index.ts?27d1"],"names":[],"mappings":"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","file":"0.fd750908ec39e7c11675.hot-update.js","sourcesContent":["/**\n * Created by NICK on 16/8/9.\n * 首页,用于生成页面框架\n */\n\nimport * as ngMaterial from 'angular-material';\nimport 'angular-ui-router';\nimport * as ngMaterialIcons from 'angular-material-icons';\nimport * as _ from 'lodash';\nimport {initRouter} from './router';\nimport materialService from '../../services/material.service';\nimport svgUtilsMod from '../../services/svg.service';\nimport toolbar from '../../directives/toolbar';\nimport sidemenu from '../../directives/sidemenu';\nimport 'expose?SVGMorpheus!exports?SVGMorpheus!svg-morpheus';\nimport {ActionType} from '../../directives/action/models/action.model';\n\nconst module = angular.module(\"homeModule\", [toolbar, sidemenu, svgUtilsMod, materialService, ngMaterial, 'ui.router', ngMaterialIcons]);\n\nmodule.config([\n    \"$stateProvider\",\n    \"$urlRouterProvider\",\n    \"$httpProvider\",\n    \"$mdThemingProvider\",\n    \"$locationProvider\",\n    \"mdSideMenuSectionsProvider\",\n    ($stateProvider, $urlRouterProvider, $httpProvider, $mdThemingProvider, $locationProvider, mdSideMenuSectionsProvider, cfpLoadingBarProvider: angular.loadingBar.ILoadingBarProvider) => {\n        // 初始化路由\n        initRouter($urlRouterProvider, $stateProvider);\n        // sideMenu初始化\n        mdSideMenuSectionsProvider.initWithTheme($mdThemingProvider);\n\n    }])\n    .run([\"$rootScope\", \"$state\", \"$q\", \"svgUtils\", \"fxAction\", \"fxSideMenuFactory\", ($rootScope: ng.IRootScopeService, $state, $q: ng.IQService, svgUtils: fx.utils.svgStatic, fxAction)=> {\n        let state: {$$isFinish?: boolean,toState?: ng.ui.IState,toParams?: Object,options?: Object} = {};\n        // 处理路回调\n        let handleResolve = ()=> {\n            state.$$isFinish = true;\n            $state.go(state.toState.name, state.toParams, state.options);\n        };\n        // 注册路由更改事件\n        $rootScope.$on(\"$stateChangeStart\", (evt, toState, toParams, fromState, fromParams)=> {\n            console.log(\"$stateChangeStart\", evt, toState, toParams, fromState, fromParams);\n        });\n        // 处理首次加载的时候,加载2个svg文件\n        $rootScope.$on('$stateChangeStart', function (event, toState, toParams, fromState, fromParams, options) {\n            if (!state.$$isFinish) {\n                _.extend(state, {\n                    toState: toState,\n                    toParams: toParams,\n                    fromState: fromState,\n                    fromParams: fromParams,\n                    options: options\n                });\n                event.preventDefault();\n                $q.all({\n                    mdi: svgUtils.loadSvgUrl(__dirname + 'svgs/mdi.svg'),\n                    weibo: svgUtils.loadSvgUrl(__dirname + 'svgs/weibo.svg'),\n                    config: fxAction.doAction(\"configAction\", {}).then((result)=> {\n                        $rootScope[\"config\"] = result.configAction;\n\n                    })\n                }).then(handleResolve, handleResolve);\n            }\n        });\n    }]);\n\n// 添加一个操作,显示ICON的KEY值表单\nmodule.value(\"iconInfoDetailForm\", {\n    key: \"iconInfoDetailForm\",\n    icon: \"search\",\n    type: ActionType.form,\n    title: \"ICON详情\",\n    form: {\n        dataSchema: {\n            type: \"object\",\n            properties: {\n                key: {\n                    type: \"string\",\n                    title: \"KEY\"\n                }\n            }\n        },\n        formSchema: [{\n            key: \"key\",\n            type: \"string\",\n            placeHolder: \"KEY\",\n            htmlClass: \"md-block\"\n        }]\n    }\n});\n\nexport default `${module.name}`;\n\n\n/** WEBPACK FOOTER **\n ** ./src/pages/home/index.ts\n **/","/**\n * Created by NICK on 16/8/9.\n */\n\nimport * as _ from 'lodash';\nimport * as angular from 'angular';\n\nconst _name = \"fxToolbar\";\n\ninterface IDirectiveScope extends ng.IScope {\n    ngModel: Object;\n}\n\nclass Strategy {\n    private tools: {[id: string]: string;} = {};\n\n    register(key: string, template: string) {\n        this.tools[key] = template;\n    }\n\n    get(key: string) {\n        return this.tools[key] || \"\";\n    }\n}\n\nconst strategy = new Strategy();\n\nstrategy.register(\"icon\", require('./tpls/icon.jade')());\nstrategy.register(\"btn\", require('./tpls/btn.jade')());\nstrategy.register(\"layout\", require('./tpls/layout.jade')());\nstrategy.register(\"label\", require('./tpls/label.jade')());\nstrategy.register(\"menu\", require('./tpls/menu.jade')());\nstrategy.register(\"menuItem\", require('./tpls/menu-item.jade')());\n\nclass Controller {\n    static $inject = [\"$scope\", \"$rootScope\", \"$compile\", \"$interpolate\", \"materialUtils\"];\n\n    ctls: string;\n    items: Object;\n    ngModel: Object;\n    ngDisabled: Object;\n\n    constructor(private $scope: ng.IScope, private $rootScope: ng.IRootScopeService, private $compile: ng.ICompileService, private $interpolate: ng.IInterpolateService, private materialUtils: fx.utils.materialStatic) {\n\n    }\n\n    openMenu($mdOpenMenu, ev) {\n        $mdOpenMenu(ev);\n    }\n\n    dig(models, $ele, $scope) {\n        _.each(models, (model)=> {\n            let template = strategy.get(model['type']);\n            let $newScope = $scope.$new(true, $scope);\n            let tmp: string, $newEle: JQuery;\n\n            if (!template) {\n                template = model.template;\n            }\n            if (!template) {\n                return console.error(\"没有模板或者找不到类型!\");\n            }\n\n            model = _.cloneDeep(model);\n\n            model.disabled = `${this.ngDisabled}`;\n            model.materialUtils = this.materialUtils;\n            model.ngModel = this.ngModel;\n            if (model.conditionInfo && model.conditionInfo.condition) {\n                if (model.conditionInfo.prefix) {\n                    model.condition = `${model['type']}Ctl.${model.conditionInfo.condition}`;\n                } else {\n                    model.condition = `${model.conditionInfo.condition}`;\n                }\n            } else {\n                model.condition = \"true\";\n            }\n            // 设置controllerAs\n            $newScope[`${model['type']}Ctl`] = _.clone(model);\n            if (this.ctls) {\n                $newScope[this.ctls] = $scope.$parent[this.ctls] || {};\n            }\n            // 编译一次模板\n            tmp = this.$interpolate(template)($newScope);\n            $newEle = angular.element(tmp);\n            // 设置属性\n            _.each(model.attributes, (attr, key)=> {\n                $newEle.attr(key, attr);\n            });\n            // $compile\n            $newEle = this.$compile($newEle)($newScope);\n            $ele.append($newEle);\n            // 递归\n            if (_.isArray(model.tools)) {\n                this.dig(model.tools, $newEle, $newScope);\n            }\n        });\n    }\n}\n\nfunction Directive(): ng.IDirective {\n    return {\n        restrict: 'EA',\n        require: [_name],\n        scope: {},\n        bindToController: {\n            ctls: '@',\n            ngDisabled: '@',\n            items: \"=\",\n            ngModel: '='\n        },\n        controllerAs: 'toolbarCtl',\n        controller: Controller,\n        replace: false,\n        link: ($scope: IDirectiveScope, $ele: ng.IAugmentedJQuery, $attr: ng.IAttributes, $ctl: Controller) => {\n            $scope.$watchCollection(()=> {\n                return $ctl[0].items;\n            }, (newValue)=> {\n                let model = newValue;\n\n                if (!model) return;\n                if (!_.isObject(model) && !_.isArray(model)) {\n                    return console.error(\"items只能是对象或者数组!\");\n                }\n                $ctl[0].dig(_.isArray(model) ? model : [model], $ele, $scope);\n            });\n        }\n    }\n}\n\nDirective.$inject = [];\n\nexport const module = angular.module(`${_name}Module`, []).directive(_name, Directive);\nexport default `${module.name}`;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/directives/toolbar/index.ts\n **/"],"sourceRoot":""}