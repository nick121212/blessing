webpackHotUpdate(1,{53:function(t,e,o){"use strict";var i=o(6),a=o(17),s=function(){function t(){var e={key:t.key,type:i.ActionType.form,title:"",icon:"",form:{dataSchema:{type:"object",required:["command","listIps"],properties:{command:{type:"string",title:"命令"},listIps:{type:"array","default":[],title:"服务器列表",minItems:1,items:{type:"object"}}}},formSchema:[{key:"command",type:"autocomplete-1",placeHolder:"请选择命令",acOptions:{textField:"title",keyField:"key",dataField:"rows",noCache:!0,search:"/where/key/$like",actionKey:"command"},htmlClass:"md-block"},{key:"command.",type:"text",placeHolder:"命令参数",htmlClass:"md-block"},{key:"listIps",type:"querytable",qtOptions:{key:"devices",resFilter:{query:{and:[{term:{online:1}}]}}},startEmpty:!0,htmlClass:"md-block"}]},refreshList:!0,closeDialog:!0,interfaces:[{key:"execute.cmd",method:a.MethodType.POST,address:"",path:"/commands/manual/test",jpp:{set:[{from:"/queueItem",to:"/data"}]},isRestful:!1}]};return e}return t.key="execute.cmd",t}();e.ExecuteCmdForm=s,Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t){var e=[s];_.each(e,function(e){t.service(e.key,e)})}},212:function(t,e,o){"use strict";var i=o(53),a=function(){function t(t,e,o,a,s,r){this.$rootScope=t,this.$stateParams=e,this.$timeout=o,this.materilUtils=a,this.fxAction=s,this.toolbarUtils=r,this.executeResult={},this.key=i.ExecuteCmdForm.key,this.doInitToolbar(),this.formData={listIps:[]}}return t.prototype.doInitToolbar=function(){this.toolbars=[this.toolbarUtils.noneBuilder("icon").iconBuilder("apple-keyboard-command",{}).toValue(),this.toolbarUtils.labelBuilder("执行命令").attrBuilder({flex:""}).toValue()]},t.prototype.doSubmit=function(t,e){var o,i=this,a=this.fxAction.doAction(this.key,this.formData,e);a&&(this.isBusy=!0,a.then(function(t){return i.materilUtils.showMsg("执行命令成功！"),o=t,i.fxAction.getModel(i.key)}).then(function(t){return i.actionModel=t,i.fxAction.doDealResult(t,o,i.executeResult)}).then(function(t){i.$rootScope.$broadcast("showExecuteCmdResult",t.data.cmdid)})["finally"](function(){i.isBusy=!1}))},t.$inject=["$rootScope","$stateParams","$timeout","materialUtils","fxAction","toolbarUtils"],t}();e.PageExecuteCmdController=a},214:function(t,e,o){"use strict";var i=o(9),a=o(18),s=o(77),r=o(215),l=o(32),n=o(33),u=o(49),c=o(185),d=o(192),m=o(182),f=o(53),p=o(187),y=o(190);o(81),o(73),o(165),e.module=angular.module("pageModule",[y["default"],p["default"],m["default"],a,c["default"],u["default"],s,i,"ui.router","gridster","btford.socket-io",l["default"],n["default"],d["default"]]),f["default"](e.module),e.module.config(["$stateProvider","$urlRouterProvider",function(t,e){r.initRouter(e,t)}]).run(["$rootScope","$state","restUtils","materialUtils","fxAction",function(t,e,o,i,a){o.setConfig(function(t){t.setErrorInterceptor(function(t){401!==t.status&&t.data&&i.showErrMsg(t.data.msg)})}),t.$on("executeCmdList:clickItem",function(e,o,i){"executeCmdResList-detail"===o.key&&(t.$broadcast("showExecuteCmdResult",i._id),o.cancel=!0)})}]),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=""+e.module.name}});
//# sourceMappingURL=1.d44547f7f582e0290eb8.hot-update.js.map